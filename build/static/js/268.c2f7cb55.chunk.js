"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[268],{92239:function(e,t,n){n.d(t,{R:function(){return c}});var r=n(74165),a=n(15861),o=n(49729),c={getVoters:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,c=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:10,e.prev=2,e.next=5,o.b.get("/voters?pagination[page]=".concat(t,"&pagination[pageSize]=").concat(n,"&sort[0]=createdAt:desc"));case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),getVoter:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.get("/voters/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getVotorsByBirthday:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.get("/voters?filters[Date_of_Birth][$containsi]=".concat(t,"&sort[0]=createdAt:desc"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getVotersByFiltering:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,c,i,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:10,a=s.length>2?s[2]:void 0,e.prev=3,c="",a.map((function(e){c+="filters[".concat(e.key,"][$containsi]=").concat(e.value,"&")})),e.next=8,o.b.get("/voters?pagination[page]=".concat(t,"&pagination[pageSize]=").concat(n,"&").concat(c,"sort[0]=createdAt:desc"));case 8:return i=e.sent,e.abrupt("return",i.data);case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),getVotersByBirthday:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.get("/voters?filters[Date_of_Birth][$eq]=".concat(t,"&sort[0]=createdAt:desc"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),addVoter:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.post("/voters",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),updateVoter:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.put("/voters/".concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}},20268:function(e,t,n){n.r(t);var r=n(29439),a=n(54040),o=n(24846),c=n(78983),i=n(72426),s=n.n(i),u=n(72791),l=n(57689),d=n(96930),p=n(91356),v=n(50080),h=n(18905),f=n(92239),x=n(88956),g=n(80184);t.default=function(){var e=(0,l.s0)(),t=(0,u.useState)(!1),n=(0,r.Z)(t,2),i=n[0],b=n[1],m=(0,u.useState)([]),N=(0,r.Z)(m,2),j=N[0],Z=N[1],w=(0,u.useState)(null),y=(0,r.Z)(w,2),_=y[0],k=y[1],C=(0,u.useState)(!1),D=(0,r.Z)(C,2),S=D[0],A=D[1],M=(0,u.useState)(!1),I=(0,r.Z)(M,2),V=I[0],E=I[1],O=(0,u.useState)(""),B=(0,r.Z)(O,2),R=B[0],F=B[1],W=(0,u.useState)(""),z=(0,r.Z)(W,2),T=z[0],Y=z[1],K=(0,u.useState)(""),$=(0,r.Z)(K,2),H=$[0],P=$[1],U=(0,u.useState)([]),q=(0,r.Z)(U,2),G=q[0],J=q[1],L=(0,u.useState)(1),Q=(0,r.Z)(L,2),X=Q[0],ee=Q[1],te=(0,u.useState)(null),ne=(0,r.Z)(te,2),re=ne[0],ae=ne[1];(0,u.useEffect)((function(){E(!0),0===G.length?oe():ce({key:"Enter"},G[0].key)}),[X]);var oe=function(){f.R.getVoters(X,20).then((function(e){var t=null===e||void 0===e?void 0:e.data;ae(e.meta.pagination),Z(t),E(!1)})).catch((function(e){var t;console.log(e),E(!1),403!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?A(!0):Z([])}))},ce=function(e,t){"Enter"===e.key&&(E(!0),f.R.getVotersByFiltering(X,20,G).then((function(e){var t=null===e||void 0===e?void 0:e.data;ae(e.meta.pagination),Z(t),E(!1)})).catch((function(e){var t;console.log(e),E(!1),403!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?A(!0):Z([])})))};return(0,u.useEffect)((function(){J([{key:"Name",value:R},{key:"Mobile_Number_1",value:H},{key:"NIC_Number",value:T}])}),[R,T,H]),(0,g.jsxs)("div",{children:[(0,g.jsx)(v.Z,{open:S,onOpen:function(e){return A(e)},title:"Failed Operation",description:d.Wj.ERROR_MSG}),(0,g.jsxs)(c.xH,{className:"mb-4",children:[(0,g.jsxs)(c.bn,{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)("h5",{children:"Voters Managment"}),(0,g.jsx)(c.u5,{onClick:function(){return e("/voters/add/0")},style:{backgroundColor:d.DM.MAIN,border:"0px"},children:"ADD NEW"})]}),(0,g.jsxs)(c.sl,{children:[(0,g.jsxs)(c.rb,{className:"mb-2",children:[(0,g.jsx)(c.b7,{md:3,className:"mb-2",children:(0,g.jsx)(c.jO,{label:"Name",placeholder:"Search & Enter",onChange:function(e){return F(e.target.value)},value:R,onKeyDown:function(e){return ce(e,"Name")}})}),(0,g.jsx)(c.b7,{md:2,className:"mb-2",children:(0,g.jsx)(c.jO,{label:"NIC No",placeholder:"Search & Enter",onChange:function(e){return Y(e.target.value)},value:T,onKeyDown:function(e){return ce(e,"NIC_Number")}})}),(0,g.jsx)(c.b7,{md:2,className:"mb-2",children:(0,g.jsx)(c.jO,{label:"Contact No",placeholder:"Search & Enter",onChange:function(e){return P(e.target.value)},value:H,onKeyDown:function(e){return ce(e,"Mobile_Number_1")}})}),(0,g.jsx)(c.b7,{md:3}),(0,g.jsx)(c.b7,{children:(0,g.jsx)(c.u5,{className:"mt-4",color:"light",style:{width:"100%"},onClick:function(){window.location.reload(!1)},children:"Clear Filters"})})]}),V?(0,g.jsx)(p.Z,{loading:V}):0===j.length?(0,g.jsx)(x.Z,{visible:!0,description:G.length>0?d.Wj.SEARCH_NO_DATA_DOUND:d.Wj.NO_DATA_FOUND,size:10}):(0,g.jsxs)(c.Sx,{hover:!0,responsive:!0,small:!0,children:[(0,g.jsx)(c.V,{color:"light",children:(0,g.jsxs)(c.T6,{children:[(0,g.jsx)(c.is,{scope:"col",children:"#"}),(0,g.jsx)(c.is,{scope:"col",children:"NIC"}),(0,g.jsx)(c.is,{scope:"col",children:"Name"}),(0,g.jsx)(c.is,{scope:"col",children:"Contact No"}),(0,g.jsx)(c.is,{scope:"col",children:"Created Date"}),(0,g.jsx)(c.is,{scope:"col",style:{textAlign:"center"},children:"Action"})]})}),(0,g.jsx)(c.NR,{children:j.map((function(t,n){var r,i,u,l,d,p;return(0,g.jsxs)(c.T6,{style:{cursor:"pointer"},onClick:function(){k(t),b(!0)},children:[(0,g.jsx)(c.NN,{width:50,children:n+1}),(0,g.jsx)(c.NN,{width:150,children:null===t||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.NIC_Number}),(0,g.jsx)(c.NN,{children:null===t||void 0===t||null===(i=t.attributes)||void 0===i?void 0:i.Name}),(0,g.jsx)(c.NN,{width:150,children:(null===t||void 0===t||null===(u=t.attributes)||void 0===u?void 0:u.Mobile_Number_1)||(null===t||void 0===t||null===(l=t.attributes)||void 0===l?void 0:l.Mobile_Number_2)||(null===t||void 0===t||null===(d=t.attributes)||void 0===d?void 0:d.WhatsApp_Number)}),(0,g.jsx)(c.NN,{width:150,children:s()(new Date(null===t||void 0===t||null===(p=t.attributes)||void 0===p?void 0:p.createdAt)).format("DD-MM-YYYY")}),(0,g.jsx)(c.NN,{width:150,style:{textAlign:"center"},children:(0,g.jsx)(o.Z,{icon:a.C,size:"xl",className:"text-info",onClick:function(){return e("/voters/edit/".concat(null===t||void 0===t?void 0:t.id))},style:{cursor:"pointer",padding:"2px",paddingInline:"4px"}})})]},n)}))})]}),re&&(0,g.jsxs)(c.E7,{className:"mt-2","aria-label":"Page navigation example",children:[(0,g.jsx)(c.tn,{hidden:1===re.page,style:{color:d.DM.MAIN,cursor:"pointer"},onClick:function(){return ee(re.page-1)},children:"Previous"}),(0,g.jsx)(c.tn,{hidden:re.page>=re.pageCount,style:{color:d.DM.MAIN,cursor:"pointer"},onClick:function(){return ee(re.page+1)},children:"Next"})]})]})]}),(0,g.jsx)(h.Z,{title:"Voter Information",type:"voter",data:_,isMoreInfo:i,setIsMoreInfo:b})]})}}}]);
//# sourceMappingURL=268.c2f7cb55.chunk.js.map